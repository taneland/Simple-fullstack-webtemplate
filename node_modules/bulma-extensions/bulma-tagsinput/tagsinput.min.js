var $jscomp={scope:{},owns:function(a,b){return Object.prototype.hasOwnProperty.call(a,b)}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,d){if(d.get||d.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=d.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,d,c){if(b){d=$jscomp.global;a=a.split(".");for(c=0;c<a.length-1;c++){var e=a[c];e in d||(d[e]={});d=d[e]}a=a[a.length-1];c=d[a];b=b(c);b!=c&&null!=b&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Object.assign",function(a){return a?a:function(a,d){for(var b=1;b<arguments.length;b++){var e=arguments[b];if(e)for(var f in e)$jscomp.owns(e,f)&&(a[f]=e[f])}return a}},"es6-impl","es3");
"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(a,b){if(null==a)throw new TypeError("Cannot convert undefined or null to object");for(var d=Object(a),c=1;c<arguments.length;c++){var e=arguments[c];if(null!=e)for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(d[f]=e[f])}return d},writable:!0,configurable:!0});
var MOUSE_EVENTS=["click","touchstart"],KEY_BACKSPACE=8,KEY_TAB=9,KEY_ENTER=13,KEY_LEFT=37,KEY_RIGHT=39,KEY_DELETE=46,KEY_COMMA=188,Tagify=function(a,b){b=void 0===b?{}:b;this.element=a;this.options=Object.assign({},{disabled:!1,delimiter:",",allowDelete:!0,lowercase:!1,uppercase:!1,duplicates:!0},b);this.init()};
Tagify.prototype.init=function(){if(!this.options.disabled){this.tags=[];this.container=document.createElement("div");this.container.className="tagsinput";this.container.classList.add("field");this.container.classList.add("is-grouped");this.container.classList.add("is-grouped-multiline");this.container.classList.add("input");var a=this.element.getAttribute("type");a&&"tags"!==a||(a="text");this.input=document.createElement("input");this.input.setAttribute("type",a);this.element.getAttribute("placeholder")?
this.input.setAttribute("placeholder",this.element.getAttribute("placeholder")):this.input.setAttribute("placeholder","Add a Tag");this.container.appendChild(this.input);a=this.element.nextSibling;this.element.parentNode[a?"insertBefore":"appendChild"](this.container,a);this.element.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;opacity:0.01;";this.element.tabIndex=-1;this.enable()}};
Tagify.prototype.enable=function(){var a=this;this.enabled||this.options.disabled||(this.element.addEventListener("focus",function(){a.container.classList.add("is-focused");a.select(Array.prototype.slice.call(a.container.querySelectorAll(".tag:not(.is-delete)")).pop())}),this.input.addEventListener("focus",function(){a.container.classList.add("is-focused");a.select(Array.prototype.slice.call(a.container.querySelectorAll(".tag:not(.is-delete)")).pop())}),this.input.addEventListener("blur",function(){a.container.classList.remove("is-focused");
a.select(Array.prototype.slice.call(a.container.querySelectorAll(".tag:not(.is-delete)")).pop());a.savePartial()}),this.input.addEventListener("keydown",function(b){var d=b.charCode||b.keyCode||b.which,c,e=a.container.querySelector(".tag.is-active"),f=Array.prototype.slice.call(a.container.querySelectorAll(".tag:not(.is-delete)")).pop(),g=a.caretAtStart(a.input);e&&(c=a.container.querySelector('[data-tag="'+e.innerHTML.trim()+'"]'));a.setInputWidth();if(d===KEY_ENTER||d===a.options.delimiter.charCodeAt(0)||
d===KEY_COMMA||d===KEY_TAB){if(!a.input.value&&(d!==a.options.delimiter.charCodeAt(0)||d===KEY_COMMA))return;a.savePartial()}else if(d===KEY_DELETE&&c)c.nextSibling?a.select(c.nextSibling.querySelector(".tag")):c.previousSibling&&a.select(c.previousSibling.querySelector(".tag")),a.container.removeChild(c),delete a.tags[a.tags.indexOf(c.getAttribute("data-tag"))],a.setInputWidth(),a.save();else if(d===KEY_BACKSPACE)if(c)c.previousSibling?a.select(c.previousSibling.querySelector(".tag")):c.nextSibling&&
a.select(c.nextSibling.querySelector(".tag")),a.container.removeChild(c),delete a.tags[a.tags.indexOf(c.getAttribute("data-tag"))],a.setInputWidth(),a.save();else if(f&&g)a.select(f);else return;else if(d===KEY_LEFT)if(c)c.previousSibling&&a.select(c.previousSibling.querySelector(".tag"));else if(g)a.select(f);else return;else if(d===KEY_RIGHT){if(!c)return;a.select(c.nextSibling.querySelector(".tag"))}else return a.select();b.preventDefault();return!1}),this.input.addEventListener("input",function(){a.element.value=
a.getValue();a.element.dispatchEvent(new Event("input"))}),this.input.addEventListener("paste",function(){return setTimeout(savePartial,0)}),this.container.addEventListener("mousedown",function(b){a.refocus(b)}),this.container.addEventListener("touchstart",function(b){a.refocus(b)}),this.savePartial(this.element.value),this.enabled=!0)};Tagify.prototype.disable=function(){this.enabled&&!this.options.disabled&&(this.reset(),this.enabled=!1)};
Tagify.prototype.select=function(a){var b=this.container.querySelector(".is-active");b&&b.classList.remove("is-active");a&&a.classList.add("is-active")};
Tagify.prototype.addTag=function(a){var b=this;~a.indexOf(this.options.delimiter)&&(a=a.split(this.options.delimiter));if(Array.isArray(a))return a.forEach(function(a){b.addTag(a)});a=a&&a.trim();if(!a)return!1;if(this.element.getAttribute("lowercase")||"true"==this.options.lowercase)a=a.toLowerCase();if(this.element.getAttribute("uppercase")||"true"==this.options.uppercase)a=a.toUpperCase();if("true"==this.element.getAttribute("duplicates")||this.options.duplicates||-1===this.tags.indexOf(a)){this.tags.push(a);
var d=document.createElement("div");d.className="control";d.setAttribute("data-tag",a);var c=document.createElement("div");c.className="tags";c.classList.add("has-addons");var e=document.createElement("span");e.className="tag";e.classList.add("is-active");this.select(e);e.innerHTML=a;c.appendChild(e);if(this.options.allowDelete){var f=document.createElement("a");f.className="tag";f.classList.add("is-delete");MOUSE_EVENTS.forEach(function(a){f.addEventListener(a,function(a){var c;a=a.target.parentNode;
var d=Array.prototype.slice.call(b.container.querySelectorAll(".tag")).pop(),e=b.caretAtStart(b.input);a&&(c=b.container.querySelector('[data-tag="'+a.innerText.trim()+'"]'));c?(b.select(c.previousSibling),b.container.removeChild(c),delete b.tags[b.tags.indexOf(c.getAttribute("data-tag"))],b.setInputWidth(),b.save()):d&&e&&b.select(d)})});c.appendChild(f)}d.appendChild(c);this.container.insertBefore(d,this.input)}};Tagify.prototype.getValue=function(){return this.tags.join(this.options.delimiter)};
Tagify.prototype.setValue=function(a){var b=this;Array.prototype.slice.call(this.container.querySelectorAll(".tag")).forEach(function(a){delete b.tags[b.tags.indexOf(a.innerHTML)];b.container.removeChild(a)});this.savePartial(a)};
Tagify.prototype.setInputWidth=function(){var a=Array.prototype.slice.call(this.container.querySelectorAll(".control")).pop();this.container.offsetWidth&&(this.input.style.width=Math.max(this.container.offsetWidth-(a?a.offsetLeft+a.offsetWidth:30)-30,this.container.offsetWidth/4)+"px")};Tagify.prototype.savePartial=function(a){"string"===typeof a||Array.isArray(a)||(a=this.input.value);!1!==this.addTag(a)&&(this.input.value="",this.save(),this.setInputWidth())};
Tagify.prototype.save=function(){this.element.value=this.tags.join(this.options.delimiter);this.element.dispatchEvent(new Event("change"))};Tagify.prototype.caretAtStart=function(a){try{return 0===a.selectionStart&&0===a.selectionEnd}catch(b){return""===a.value}};Tagify.prototype.refocus=function(a){a.target.classList.contains("tag")&&this.select(a.target);if(a.target===this.input)return this.select();this.input.focus();a.preventDefault();return!1};Tagify.prototype.reset=function(){this.tags=[]};
Tagify.prototype.destroy=function(){this.disable();this.reset();this.element=null};document.addEventListener("DOMContentLoaded",function(){var a=document.querySelectorAll('input[type="tags"]');[].forEach.call(a,function(a){new Tagify(a)})});
